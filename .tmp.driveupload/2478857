"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[904],{1904:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var n=s(2555),r=s(5043),a=s(3260),i=s(6291),o=s(6773),c=s(6446),l=s(1637),d=s(5865),u=s(1906),h=s(7254),m=s(8903),p=s(2110),g=s(6494),x=s(7784),A=s(2143),j=s(9650),v=s(3336),y=s(1806),_=s(4882),f=s(8076),b=s(39),S=s(3460),w=s(3845),C=s(7392),P=s(35),I=s(6600),L=s(5316),k=s(3193),T=s(9190),q=s(2221),z=s(1673),M=s(9336),W=s(9347),D=s(141),E=s(9484),J=s(3632),N=s(3560),O=s(1387),$=s(579);const R=()=>{const e=(0,a.Zp)(),[t,s]=(0,r.useState)([]),[R,F]=(0,r.useState)(!0),[U,Z]=(0,r.useState)(null),[B,V]=(0,r.useState)(!1),[H,X]=(0,r.useState)(!1),[Y,G]=(0,r.useState)(null),[K,Q]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[se,ne]=(0,r.useState)(""),[re,ae]=(0,r.useState)([]),[ie,oe]=(0,r.useState)([]),[ce,le]=(0,r.useState)([]),[de,ue]=(0,r.useState)({customer_id:"",property_address:"",service_type_id:"",status:"pending",priority:"medium",scheduled_date:new Date,assigned_technician_id:"",description:"",estimated_duration:2,total_amount:0,notes:""}),[he,me]=(0,r.useState)({}),pe=async()=>{try{F(!0),Z("");const e=await i.S.getAll();s(e.data.results||[]),F(!1)}catch(e){console.error("Error loading jobs:",e),Z("Failed to load jobs. Please check your connection and try again."),s([]),F(!1)}};(0,r.useEffect)((()=>{pe(),(async()=>{try{const e=await i.dr.getAll();ae(e.data.results||[]),le([{id:1,user:{first_name:"John",last_name:"Smith"},full_name:"John Smith"},{id:2,user:{first_name:"Jane",last_name:"Doe"},full_name:"Jane Doe"},{id:3,user:{first_name:"Mike",last_name:"Johnson"},full_name:"Mike Johnson"}]),oe([{id:1,name:"Electrical Repair"},{id:2,name:"Panel Installation"},{id:3,name:"Emergency Service"},{id:4,name:"Wiring Installation"},{id:5,name:"Lighting Installation"},{id:6,name:"Circuit Installation"},{id:7,name:"Outlet Installation"},{id:8,name:"Switch Installation"},{id:9,name:"GFCI Installation"},{id:10,name:"Electrical Inspection"}])}catch(e){console.error("Error loading reference data:",e),ae([]),le([]),oe([])}})()}),[]);const ge=e=>{switch(e){case"pending":return"warning";case"scheduled":return"info";case"in_progress":return"primary";case"completed":return"success";case"cancelled":return"error";default:return"default"}},xe=e=>{switch(e){case"low":return"success";case"medium":return"warning";case"high":case"emergency":return"error";default:return"default"}},Ae=t.filter((e=>{const t=e.customer_name||"",s=e.service_type||e.title||"",n=e.job_number.toLowerCase().includes(K.toLowerCase())||t.toLowerCase().includes(K.toLowerCase())||s.toLowerCase().includes(K.toLowerCase()),r=""===ee||e.status===ee,a=""===se||e.priority===se;return n&&r&&a})),je=()=>{e("/jobs/new")},ve=e=>{var t,s;G(e);const n=(null===(t=re.find((t=>t.full_name===e.customer_name)))||void 0===t?void 0:t.id.toString())||"",r=(null===(s=ie.find((t=>t.name===e.service_type)))||void 0===s?void 0:s.id.toString())||"";let a="";var i;e.assigned_technicians&&e.assigned_technicians.length>0&&(a=(null===(i=ce.find((t=>t.full_name===e.assigned_technicians[0])))||void 0===i?void 0:i.id.toString())||"");ue({customer_id:n,property_address:e.property_address||"",service_type_id:r,status:e.status,priority:e.priority,scheduled_date:new Date(e.scheduled_start||e.created_at||new Date),assigned_technician_id:a,description:e.description||"",estimated_duration:e.estimated_duration||0,total_amount:e.actual_cost||e.estimated_cost,notes:e.notes||""}),me({}),X(!0)},ye=(e,t)=>{ue((s=>(0,n.A)((0,n.A)({},s),{},{[e]:t}))),he[e]&&me((t=>{const s=(0,n.A)({},t);return delete s[e],s}))};return R?(0,$.jsxs)(c.A,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px",children:[(0,$.jsx)(l.A,{size:40,sx:{mb:2}}),(0,$.jsx)(d.A,{variant:"h6",color:"textSecondary",children:"Loading jobs..."})]}):(0,$.jsxs)(c.A,{children:[(0,$.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,$.jsx)(d.A,{variant:"h4",component:"h1",children:"Jobs & Work Orders"}),(0,$.jsx)(u.A,{variant:"contained",startIcon:(0,$.jsx)(D.A,{}),onClick:je,children:"Create Job"})]}),U&&(0,$.jsx)(h.A,{severity:"error",sx:{mb:2},children:U}),(0,$.jsxs)(m.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,$.jsx)(p.A,{children:(0,$.jsxs)(g.A,{children:[(0,$.jsx)(d.A,{variant:"h6",children:"Total Jobs"}),(0,$.jsx)(d.A,{variant:"h4",color:"primary",children:t.length})]})})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,$.jsx)(p.A,{children:(0,$.jsxs)(g.A,{children:[(0,$.jsx)(d.A,{variant:"h6",children:"Pending"}),(0,$.jsx)(d.A,{variant:"h4",color:"warning.main",children:t.filter((e=>"pending"===e.status)).length})]})})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,$.jsx)(p.A,{children:(0,$.jsxs)(g.A,{children:[(0,$.jsx)(d.A,{variant:"h6",children:"In Progress"}),(0,$.jsx)(d.A,{variant:"h4",color:"primary",children:t.filter((e=>"in_progress"===e.status)).length})]})})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,$.jsx)(p.A,{children:(0,$.jsxs)(g.A,{children:[(0,$.jsx)(d.A,{variant:"h6",children:"Completed"}),(0,$.jsx)(d.A,{variant:"h4",color:"success.main",children:t.filter((e=>"completed"===e.status)).length})]})})})]}),(0,$.jsxs)(m.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsx)(x.A,{fullWidth:!0,label:"Search jobs...",value:K,onChange:e=>Q(e.target.value),InputProps:{startAdornment:(0,$.jsx)(E.A,{color:"action",sx:{mr:1}})}})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,$.jsxs)(x.A,{select:!0,fullWidth:!0,label:"Status",value:ee,onChange:e=>te(e.target.value),children:[(0,$.jsx)(A.A,{value:"",children:"All Statuses"}),(0,$.jsx)(A.A,{value:"pending",children:"Pending"}),(0,$.jsx)(A.A,{value:"scheduled",children:"Scheduled"}),(0,$.jsx)(A.A,{value:"in_progress",children:"In Progress"}),(0,$.jsx)(A.A,{value:"completed",children:"Completed"}),(0,$.jsx)(A.A,{value:"cancelled",children:"Cancelled"})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,$.jsxs)(x.A,{select:!0,fullWidth:!0,label:"Priority",value:se||"",onChange:e=>ne(e.target.value),children:[(0,$.jsx)(A.A,{value:"",children:"All Priorities"}),(0,$.jsx)(A.A,{value:"low",children:"Low"}),(0,$.jsx)(A.A,{value:"medium",children:"Medium"}),(0,$.jsx)(A.A,{value:"high",children:"High"}),(0,$.jsx)(A.A,{value:"emergency",children:"Emergency"})]})})]}),(0,$.jsx)(j.A,{component:v.A,children:(0,$.jsxs)(y.A,{children:[(0,$.jsx)(_.A,{children:(0,$.jsxs)(f.A,{children:[(0,$.jsx)(b.A,{children:"Job Number"}),(0,$.jsx)(b.A,{children:"Customer"}),(0,$.jsx)(b.A,{children:"Service Type"}),(0,$.jsx)(b.A,{children:"Status"}),(0,$.jsx)(b.A,{children:"Priority"}),(0,$.jsx)(b.A,{children:"Scheduled Date"}),(0,$.jsx)(b.A,{children:"Technician"}),(0,$.jsx)(b.A,{children:"Amount"}),(0,$.jsx)(b.A,{children:"Actions"})]})}),(0,$.jsx)(S.A,{children:Ae.map((e=>(0,$.jsxs)(f.A,{children:[(0,$.jsx)(b.A,{children:(0,$.jsx)(d.A,{variant:"body2",fontWeight:"bold",children:e.job_number})}),(0,$.jsx)(b.A,{children:(0,$.jsxs)(c.A,{children:[(0,$.jsx)(d.A,{variant:"body2",children:e.customer_name||"N/A"}),(0,$.jsx)(d.A,{variant:"caption",color:"text.secondary",children:e.property_address||"N/A"})]})}),(0,$.jsx)(b.A,{children:e.service_type||e.title||"N/A"}),(0,$.jsx)(b.A,{children:(0,$.jsx)(w.A,{label:e.status.replace("_"," "),color:ge(e.status),size:"small",sx:{textTransform:"capitalize"}})}),(0,$.jsx)(b.A,{children:(0,$.jsx)(w.A,{label:e.priority,color:xe(e.priority),size:"small",variant:"outlined",sx:{textTransform:"capitalize"}})}),(0,$.jsx)(b.A,{children:e.scheduled_start?new Date(e.scheduled_start).toLocaleDateString()+" "+new Date(e.scheduled_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Not scheduled"}),(0,$.jsx)(b.A,{children:e.assigned_technicians&&e.assigned_technicians.length>0?e.assigned_technicians.join(", "):"Unassigned"}),(0,$.jsxs)(b.A,{children:["$",(e.actual_cost||e.estimated_cost||0).toFixed(2)]}),(0,$.jsx)(b.A,{children:(0,$.jsxs)(c.A,{display:"flex",gap:1,children:[(0,$.jsx)(C.A,{size:"small",onClick:()=>ve(e),color:"primary",children:(0,$.jsx)(J.A,{})}),(0,$.jsx)(C.A,{size:"small",onClick:()=>ve(e),color:"primary",children:(0,$.jsx)(N.A,{})}),(0,$.jsx)(C.A,{size:"small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this job?"))try{await i.S.delete(e),await pe()}catch(t){console.error("Error deleting job:",t),Z("Failed to delete job. Please try again.")}})(e.id),color:"error",children:(0,$.jsx)(O.A,{})})]})})]},e.id)))})]})}),0===Ae.length&&(0,$.jsxs)(c.A,{textAlign:"center",py:4,children:[(0,$.jsx)(d.A,{variant:"h6",color:"text.secondary",children:"No jobs found"}),(0,$.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:K||ee?"Try adjusting your filters":"Create your first job to get started"}),!K&&!ee&&(0,$.jsx)(u.A,{variant:"contained",onClick:je,children:"Create First Job"})]}),(0,$.jsxs)(P.A,{open:H,onClose:()=>X(!1),maxWidth:"md",fullWidth:!0,children:[(0,$.jsx)(I.A,{children:Y?"Edit Job":"Create New Job"}),(0,$.jsx)(L.A,{children:(0,$.jsx)(c.A,{component:"form",sx:{mt:2},children:(0,$.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(k.A,{fullWidth:!0,error:!!he.customer_id,children:[(0,$.jsx)(T.A,{children:"Customer"}),(0,$.jsxs)(q.A,{value:de.customer_id,label:"Customer",onChange:e=>ye("customer_id",e.target.value),children:[(0,$.jsx)(A.A,{value:"",children:(0,$.jsx)("em",{children:"Select Customer"})}),re.map((e=>(0,$.jsx)(A.A,{value:e.id.toString(),children:e.full_name},e.id)))]}),he.customer_id&&(0,$.jsx)(z.A,{children:he.customer_id})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsx)(x.A,{fullWidth:!0,label:"Property Address",value:de.property_address,onChange:e=>ye("property_address",e.target.value),error:!!he.property_address,helperText:he.property_address})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(k.A,{fullWidth:!0,error:!!he.service_type_id,children:[(0,$.jsx)(T.A,{children:"Service Type"}),(0,$.jsxs)(q.A,{value:de.service_type_id,label:"Service Type",onChange:e=>ye("service_type_id",e.target.value),children:[(0,$.jsx)(A.A,{value:"",children:(0,$.jsx)("em",{children:"Select Service Type"})}),ie.map((e=>(0,$.jsx)(A.A,{value:e.id.toString(),children:e.name},e.id)))]}),he.service_type_id&&(0,$.jsx)(z.A,{children:he.service_type_id})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(k.A,{fullWidth:!0,children:[(0,$.jsx)(T.A,{children:"Status"}),(0,$.jsxs)(q.A,{value:de.status,label:"Status",onChange:e=>ye("status",e.target.value),children:[(0,$.jsx)(A.A,{value:"pending",children:"Pending"}),(0,$.jsx)(A.A,{value:"scheduled",children:"Scheduled"}),(0,$.jsx)(A.A,{value:"in_progress",children:"In Progress"}),(0,$.jsx)(A.A,{value:"completed",children:"Completed"}),(0,$.jsx)(A.A,{value:"cancelled",children:"Cancelled"})]})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(k.A,{fullWidth:!0,children:[(0,$.jsx)(T.A,{children:"Priority"}),(0,$.jsxs)(q.A,{value:de.priority,label:"Priority",onChange:e=>ye("priority",e.target.value),children:[(0,$.jsx)(A.A,{value:"low",children:"Low"}),(0,$.jsx)(A.A,{value:"medium",children:"Medium"}),(0,$.jsx)(A.A,{value:"high",children:"High"}),(0,$.jsx)(A.A,{value:"emergency",children:"Emergency"})]})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsx)(x.A,{fullWidth:!0,label:"Scheduled Date & Time",type:"datetime-local",value:de.scheduled_date?new Date(de.scheduled_date).toISOString().slice(0,16):"",onChange:e=>{const t=e.target.value?new Date(e.target.value).toISOString():"";ye("scheduled_date",t)},InputLabelProps:{shrink:!0},helperText:"Select date and time for the job"})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(k.A,{fullWidth:!0,children:[(0,$.jsx)(T.A,{children:"Assigned Technician"}),(0,$.jsxs)(q.A,{value:de.assigned_technician_id,label:"Assigned Technician",onChange:e=>ye("assigned_technician_id",e.target.value),children:[(0,$.jsx)(A.A,{value:"",children:(0,$.jsx)("em",{children:"None"})}),ce.map((e=>(0,$.jsx)(A.A,{value:e.id.toString(),children:e.full_name},e.id)))]})]})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsx)(x.A,{fullWidth:!0,type:"number",label:"Estimated Duration (hours)",value:de.estimated_duration,onChange:e=>ye("estimated_duration",e.target.value),error:!!he.estimated_duration,helperText:he.estimated_duration,InputProps:{inputProps:{min:0}}})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,$.jsx)(x.A,{fullWidth:!0,type:"number",label:"Total Amount ($)",value:de.total_amount,onChange:e=>ye("total_amount",e.target.value),error:!!he.total_amount,helperText:he.total_amount,InputProps:{inputProps:{min:0,step:.01}}})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,children:(0,$.jsx)(M.A,{sx:{my:1}})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,children:(0,$.jsx)(x.A,{fullWidth:!0,multiline:!0,rows:3,label:"Job Description",value:de.description,onChange:e=>ye("description",e.target.value),error:!!he.description,helperText:he.description})}),(0,$.jsx)(m.Ay,{item:!0,xs:12,children:(0,$.jsx)(x.A,{fullWidth:!0,multiline:!0,rows:3,label:"Additional Notes",value:de.notes,onChange:e=>ye("notes",e.target.value)})})]})})}),(0,$.jsxs)(W.A,{children:[(0,$.jsx)(u.A,{onClick:()=>X(!1),children:"Cancel"}),(0,$.jsx)(u.A,{variant:"contained",onClick:async()=>{try{var e;if(!(()=>{const e={customer_id:{required:!0},property_address:o._5.address,service_type_id:{required:!0},description:o._5.description,estimated_duration:o._5.duration,total_amount:o._5.currency},t=(0,o.l)(de,e);return me(t.errors),t.isValid})())return;V(!0);const t={customer:parseInt(de.customer_id),property_address:de.property_address,service_type:(null===(e=ie.find((e=>e.id.toString()===de.service_type_id)))||void 0===e?void 0:e.name)||"",status:de.status,priority:de.priority,scheduled_start:de.scheduled_date instanceof Date?de.scheduled_date.toISOString():de.scheduled_date,assigned_to:de.assigned_technician_id?[parseInt(de.assigned_technician_id)]:[],description:de.description,estimated_duration:de.estimated_duration,estimated_cost:de.total_amount,notes:de.notes};Y?await i.S.update(Y.id,t):await i.S.create(t),await pe(),X(!1),V(!1)}catch(t){console.error("Error saving job:",t),Z("Failed to save job. Please try again."),V(!1)}},disabled:B,children:B?(0,$.jsx)(l.A,{size:20}):"Save"})]})]})]})}},3560:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(9662),r=s(579);const a=(0,n.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},3632:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(9662),r=s(579);const a=(0,n.A)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},6291:(e,t,s)=>{s.d(t,{Ay:()=>m,LP:()=>h,S:()=>l,Up:()=>c,dr:()=>o,l:()=>d,pO:()=>u});var n=s(9722),r=s(4703);const a=n.A.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"},timeout:1e4});a.interceptors.request.use((e=>{var t;e.metadata={startTime:performance.now()};const s=localStorage.getItem("authToken");s&&(e.headers.Authorization="Bearer ".concat(s)),e.headers["X-Requested-With"]="XMLHttpRequest";const n=null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.getAttribute("content");return n&&(e.headers["X-CSRF-Token"]=n),e}),(e=>(r.Fk.handleError(e,{component:"APIService",action:"Request Interceptor",userMessage:"Failed to prepare API request"}),Promise.reject(e)))),a.interceptors.response.use((e=>{var t;const s=e.config,n=performance.now()-((null===(t=s.metadata)||void 0===t?void 0:t.startTime)||0);var a,i;n>2e3&&(console.warn("\u26a0\ufe0f Slow API call: ".concat(null===(a=e.config.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.config.url," took ").concat(Math.round(n),"ms")),r.Fk.handleError(new Error("Slow API response"),{component:"APIService",action:"Slow Response: ".concat(null===(i=e.config.method)||void 0===i?void 0:i.toUpperCase()," ").concat(e.config.url),userMessage:"API response was slower than expected"}));return e}),(async e=>{var t,n,o,c,l;r.Fk.handleError(e,{component:"APIService",action:"".concat(null===(t=e.config)||void 0===t||null===(n=t.method)||void 0===n?void 0:n.toUpperCase()," ").concat(null===(o=e.config)||void 0===o?void 0:o.url),userMessage:i(e)});if(401===(null===(c=e.response)||void 0===c?void 0:c.status)){const{authService:t}=await s.e(422).then(s.bind(s,1422)),n=await t.refreshToken();if(n&&e.config)return e.config.headers.Authorization="Bearer ".concat(n),a.request(e.config);t.logout()}if(429===(null===(l=e.response)||void 0===l?void 0:l.status)){const t=e.response.headers["retry-after"],s=t?1e3*parseInt(t):1e3;return console.warn("Rate limited. Retrying after ".concat(s,"ms")),new Promise(((t,n)=>{setTimeout((()=>{e.config?a.request(e.config).then(t).catch(n):n(e)}),s)}))}return Promise.reject(e)}));const i=e=>{if(!e.response)return"Network connection error. Please check your internet connection.";const t=e.response.status,s=e.response.data;switch(t){case 400:return(null===s||void 0===s?void 0:s.message)||"Invalid request. Please check your input.";case 401:return"Your session has expired. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 422:return(null===s||void 0===s?void 0:s.message)||"Please check your input and try again.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:return"Server error occurred. Our team has been notified.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again later.";default:return(null===s||void 0===s?void 0:s.message)||"An unexpected error occurred. Please try again."}},o={getAll:e=>a.get("/customers/",{params:e}),getById:e=>a.get("/customers/".concat(e,"/")),create:e=>a.post("/customers/",e),update:(e,t)=>a.put("/customers/".concat(e,"/"),t),delete:e=>a.delete("/customers/".concat(e,"/")),getProperties:e=>a.get("/customers/".concat(e,"/properties/")),addProperty:(e,t)=>a.post("/customers/".concat(e,"/add_property/"),t),getContacts:e=>a.get("/customers/".concat(e,"/contacts/")),addContact:(e,t)=>a.post("/customers/".concat(e,"/add_contact/"),t),getReviews:e=>a.get("/customers/".concat(e,"/reviews/")),addReview:(e,t)=>a.post("/customers/".concat(e,"/add_review/"),t)},c={getAll:e=>a.get("/properties/",{params:e}),getById:e=>a.get("/properties/".concat(e,"/")),create:e=>a.post("/properties/",e),update:(e,t)=>a.put("/properties/".concat(e,"/"),t),delete:e=>a.delete("/properties/".concat(e,"/"))},l={getAll:e=>a.get("/jobs/",{params:e}),getById:e=>a.get("/jobs/".concat(e,"/")),create:e=>a.post("/jobs/",e),update:(e,t)=>a.put("/jobs/".concat(e,"/"),t),delete:e=>a.delete("/jobs/".concat(e,"/")),updateStatus:(e,t)=>a.patch("/jobs/".concat(e,"/update_status/"),{status:t}),assignTechnicians:(e,t)=>a.patch("/jobs/".concat(e,"/assign_technicians/"),{technician_ids:t})},d={getAll:e=>a.get("/jobs/technicians/",{params:e}),getAvailable:e=>a.get("/jobs/technicians/available/",{params:e}),getById:e=>a.get("/jobs/technicians/".concat(e,"/"))},u={getItems:e=>a.get("/inventory/items/",{params:e}),getItemById:e=>a.get("/inventory/items/".concat(e,"/")),createItem:e=>a.post("/inventory/items/",e),updateItem:(e,t)=>a.put("/inventory/items/".concat(e,"/"),t),deleteItem:e=>a.delete("/inventory/items/".concat(e,"/")),adjustStock:(e,t,s)=>a.post("/inventory/items/".concat(e,"/adjust_stock/"),{quantity:t,reason:s}),getCategories:()=>a.get("/inventory/categories/"),createCategory:e=>a.post("/inventory/categories/",e),getSuppliers:()=>a.get("/inventory/suppliers/"),createSupplier:e=>a.post("/inventory/suppliers/",e),getStockMovements:e=>a.get("/inventory/stock-movements/",{params:e}),getPurchaseOrders:e=>a.get("/inventory/purchase-orders/",{params:e}),createPurchaseOrder:e=>a.post("/inventory/purchase-orders/",e),updatePurchaseOrder:(e,t)=>a.put("/inventory/purchase-orders/".concat(e,"/"),t)},h={getBusinessOverview:()=>a.get("/analytics/analytics/business_overview/"),getFinancialSummary:()=>a.get("/analytics/analytics/financial_summary/"),getOperationalMetrics:()=>a.get("/analytics/analytics/operational_metrics/"),getCustomerInsights:()=>a.get("/analytics/analytics/customer_insights/"),getInventoryInsights:()=>a.get("/analytics/analytics/inventory_insights/")},m=a},6773:(e,t,s)=>{s.d(t,{_5:()=>i,fr:()=>a,jr:()=>n,l:()=>r,n4:()=>o});s(5043);const n=(e,t)=>t.required&&(!e||"string"===typeof e&&""===e.trim())?"This field is required":e?t.minLength&&"string"===typeof e&&e.length<t.minLength?"Must be at least ".concat(t.minLength," characters"):t.maxLength&&"string"===typeof e&&e.length>t.maxLength?"Must be no more than ".concat(t.maxLength," characters"):t.pattern&&"string"===typeof e&&!t.pattern.test(e)?"Invalid format":t.min&&"number"===typeof e&&e<t.min?"Must be at least ".concat(t.min):t.max&&"number"===typeof e&&e>t.max?"Must be no more than ".concat(t.max):t.custom?t.custom(e):null:null,r=(e,t)=>{const s={};for(const[r,a]of Object.entries(t)){const t=n(e[r],a);t&&(s[r]=t)}return{isValid:0===Object.keys(s).length,errors:s}},a={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,phone:/^[\+]?[1-9][\d]{0,15}$/,phoneUS:/^(\+1)?[\s\-]?\(?([0-9]{3})\)?[\s\-]?([0-9]{3})[\s\-]?([0-9]{4})$/,postalCode:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,zipCode:/^\d{5}(-\d{4})?$/,url:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,alphanumeric:/^[a-zA-Z0-9]+$/,currency:/^\d+(\.\d{1,2})?$/,jobNumber:/^JOB-\d{4}-\d{4}$/,invoiceNumber:/^INV-\d{4}-\d{4}$/,strongPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/},i={required:e=>({required:!0,custom:t=>!t||"string"===typeof t&&""===t.trim()?e||"This field is required":null}),minLength:(e,t)=>({minLength:e,custom:s=>s&&s.length<e?t||"Must be at least ".concat(e," characters"):null}),maxLength:(e,t)=>({maxLength:e,custom:s=>s&&s.length>e?t||"Must be no more than ".concat(e," characters"):null}),email:e=>({pattern:a.email,custom:t=>t&&!a.email.test(t)?e||"Please enter a valid email address":null}),phone:e=>({pattern:a.phoneUS,custom:t=>t&&!a.phoneUS.test(t)?e||"Please enter a valid phone number (e.g., (555) 123-4567)":null}),emailRule:{required:!0,pattern:a.email,custom:e=>e&&!a.email.test(e)?"Please enter a valid email address":null},phoneRule:{required:!0,pattern:a.phoneUS,custom:e=>e&&!a.phoneUS.test(e)?"Please enter a valid phone number (e.g., (555) 123-4567)":null},currencyRule:{required:!0,min:0,custom:e=>void 0!==e&&e<0?"Amount cannot be negative":null},currency:{required:!0,min:0,custom:e=>void 0!==e&&e<0?"Amount cannot be negative":null},duration:{required:!0,min:.5,max:24,custom:e=>void 0!==e&&(e<.5||e>24)?"Duration must be between 0.5 and 24 hours":null},postalCode:{pattern:a.postalCode,custom:e=>!e||a.postalCode.test(e)||a.zipCode.test(e)?null:"Please enter a valid postal/zip code"},strongPassword:{required:!0,minLength:8,pattern:a.strongPassword,custom:e=>e&&!a.strongPassword.test(e)?"Password must contain at least 8 characters with uppercase, lowercase, number, and special character":null},customerName:{required:!0,minLength:2,maxLength:100,custom:e=>e&&e.trim().length<2?"Name must be at least 2 characters":null},address:{required:!0,minLength:10,maxLength:255,custom:e=>e&&e.trim().length<10?"Please enter a complete address":null},description:{required:!0,minLength:10,maxLength:1e3,custom:e=>e&&e.trim().length<10?"Description must be at least 10 characters":null}},o=e=>{const t=e.replace(/\D/g,"");return 10===t.length?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):11===t.length&&"1"===t[0]?"+1 (".concat(t.slice(1,4),") ").concat(t.slice(4,7),"-").concat(t.slice(7)):e}},9484:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(9662),r=s(579);const a=(0,n.A)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=904.31a642ac.chunk.js.map