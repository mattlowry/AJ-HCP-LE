"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[382],{6291:(e,t,s)=>{s.d(t,{Ay:()=>m,LP:()=>h,S:()=>c,Up:()=>o,dr:()=>l,l:()=>d,pO:()=>u});var i=s(9722),r=s(4703);const n=i.A.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"},timeout:1e4});n.interceptors.request.use((e=>{var t;e.metadata={startTime:performance.now()};const s=localStorage.getItem("authToken");s&&(e.headers.Authorization="Bearer ".concat(s)),e.headers["X-Requested-With"]="XMLHttpRequest";const i=null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.getAttribute("content");return i&&(e.headers["X-CSRF-Token"]=i),e}),(e=>(r.Fk.handleError(e,{component:"APIService",action:"Request Interceptor",userMessage:"Failed to prepare API request"}),Promise.reject(e)))),n.interceptors.response.use((e=>{var t;const s=e.config,i=performance.now()-((null===(t=s.metadata)||void 0===t?void 0:t.startTime)||0);var n,a;i>2e3&&(console.warn("\u26a0\ufe0f Slow API call: ".concat(null===(n=e.config.method)||void 0===n?void 0:n.toUpperCase()," ").concat(e.config.url," took ").concat(Math.round(i),"ms")),r.Fk.handleError(new Error("Slow API response"),{component:"APIService",action:"Slow Response: ".concat(null===(a=e.config.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.config.url),userMessage:"API response was slower than expected"}));return e}),(async e=>{var t,i,l,o,c;r.Fk.handleError(e,{component:"APIService",action:"".concat(null===(t=e.config)||void 0===t||null===(i=t.method)||void 0===i?void 0:i.toUpperCase()," ").concat(null===(l=e.config)||void 0===l?void 0:l.url),userMessage:a(e)});if(401===(null===(o=e.response)||void 0===o?void 0:o.status)){const{authService:t}=await s.e(422).then(s.bind(s,1422)),i=await t.refreshToken();if(i&&e.config)return e.config.headers.Authorization="Bearer ".concat(i),n.request(e.config);t.logout()}if(429===(null===(c=e.response)||void 0===c?void 0:c.status)){const t=e.response.headers["retry-after"],s=t?1e3*parseInt(t):1e3;return console.warn("Rate limited. Retrying after ".concat(s,"ms")),new Promise(((t,i)=>{setTimeout((()=>{e.config?n.request(e.config).then(t).catch(i):i(e)}),s)}))}return Promise.reject(e)}));const a=e=>{if(!e.response)return"Network connection error. Please check your internet connection.";const t=e.response.status,s=e.response.data;switch(t){case 400:return(null===s||void 0===s?void 0:s.message)||"Invalid request. Please check your input.";case 401:return"Your session has expired. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 422:return(null===s||void 0===s?void 0:s.message)||"Please check your input and try again.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:return"Server error occurred. Our team has been notified.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again later.";default:return(null===s||void 0===s?void 0:s.message)||"An unexpected error occurred. Please try again."}},l={getAll:e=>n.get("/customers/",{params:e}),getById:e=>n.get("/customers/".concat(e,"/")),create:e=>n.post("/customers/",e),update:(e,t)=>n.put("/customers/".concat(e,"/"),t),delete:e=>n.delete("/customers/".concat(e,"/")),getProperties:e=>n.get("/customers/".concat(e,"/properties/")),addProperty:(e,t)=>n.post("/customers/".concat(e,"/add_property/"),t),getContacts:e=>n.get("/customers/".concat(e,"/contacts/")),addContact:(e,t)=>n.post("/customers/".concat(e,"/add_contact/"),t),getReviews:e=>n.get("/customers/".concat(e,"/reviews/")),addReview:(e,t)=>n.post("/customers/".concat(e,"/add_review/"),t)},o={getAll:e=>n.get("/properties/",{params:e}),getById:e=>n.get("/properties/".concat(e,"/")),create:e=>n.post("/properties/",e),update:(e,t)=>n.put("/properties/".concat(e,"/"),t),delete:e=>n.delete("/properties/".concat(e,"/"))},c={getAll:e=>n.get("/jobs/",{params:e}),getById:e=>n.get("/jobs/".concat(e,"/")),create:e=>n.post("/jobs/",e),update:(e,t)=>n.put("/jobs/".concat(e,"/"),t),delete:e=>n.delete("/jobs/".concat(e,"/")),updateStatus:(e,t)=>n.patch("/jobs/".concat(e,"/update_status/"),{status:t}),assignTechnicians:(e,t)=>n.patch("/jobs/".concat(e,"/assign_technicians/"),{technician_ids:t})},d={getAll:e=>n.get("/jobs/technicians/",{params:e}),getAvailable:e=>n.get("/jobs/technicians/available/",{params:e}),getById:e=>n.get("/jobs/technicians/".concat(e,"/"))},u={getItems:e=>n.get("/inventory/items/",{params:e}),getItemById:e=>n.get("/inventory/items/".concat(e,"/")),createItem:e=>n.post("/inventory/items/",e),updateItem:(e,t)=>n.put("/inventory/items/".concat(e,"/"),t),deleteItem:e=>n.delete("/inventory/items/".concat(e,"/")),adjustStock:(e,t,s)=>n.post("/inventory/items/".concat(e,"/adjust_stock/"),{quantity:t,reason:s}),getCategories:()=>n.get("/inventory/categories/"),createCategory:e=>n.post("/inventory/categories/",e),getSuppliers:()=>n.get("/inventory/suppliers/"),createSupplier:e=>n.post("/inventory/suppliers/",e),getStockMovements:e=>n.get("/inventory/stock-movements/",{params:e}),getPurchaseOrders:e=>n.get("/inventory/purchase-orders/",{params:e}),createPurchaseOrder:e=>n.post("/inventory/purchase-orders/",e),updatePurchaseOrder:(e,t)=>n.put("/inventory/purchase-orders/".concat(e,"/"),t)},h={getBusinessOverview:()=>n.get("/analytics/analytics/business_overview/"),getFinancialSummary:()=>n.get("/analytics/analytics/financial_summary/"),getOperationalMetrics:()=>n.get("/analytics/analytics/operational_metrics/"),getCustomerInsights:()=>n.get("/analytics/analytics/customer_insights/"),getInventoryInsights:()=>n.get("/analytics/analytics/inventory_insights/")},m=n},9382:(e,t,s)=>{s.r(t),s.d(t,{default:()=>X});var i=s(2555),r=s(5043),n=s(6446),a=s(794),l=s(7254),o=s(7392),c=s(5865),d=s(1906),u=s(1637),h=s(8903),m=s(2110),p=s(6494),x=s(4076),A=s(7784),g=s(3193),j=s(9190),y=s(2221),v=s(2143),_=s(9650),b=s(3336),f=s(1806),C=s(4882),I=s(8076),S=s(39),P=s(3460),w=s(3845),q=s(9336),k=s(35),T=s(6600),W=s(5316),F=s(9347),R=s(7332),E=s(7141),z=s(9893),L=s(5337),M=s(1209),O=s(3218),B=s(141),D=s(3560),U=s(1387),J=s(3260),$=s(6291),N=s(5852),H=s(579);const X=()=>{const e=(0,J.Zp)(),[t,s]=(0,r.useState)(!1),[X,Q]=(0,r.useState)(null),[Y,G]=(0,r.useState)(null),[Z,K]=(0,r.useState)({customer_id:"",title:"",description:"",service_type:"",priority:"medium",scheduled_date:"",scheduled_time:"",estimated_duration:2,assigned_technician_id:"",property_address:"",notes:""}),[V,ee]=(0,r.useState)([]),[te,se]=(0,r.useState)({subtotal:0,tax_rate:8.25,tax_amount:0,discount_amount:0,total_amount:0}),[ie,re]=(0,r.useState)([]),[ne,ae]=(0,r.useState)(null),[le,oe]=(0,r.useState)(!1),[ce,de]=(0,r.useState)(null),[ue,he]=(0,r.useState)({name:"",description:"",quantity:1,unit_price:0,category:"material",unit:"each"}),[me,pe]=(0,r.useState)({});(0,r.useEffect)((()=>{(async()=>{try{const e=await $.dr.getAll();re(e.data.results||[])}catch(e){console.error("Error loading customers:",e)}})()}),[]),(0,r.useEffect)((()=>{const e=V.reduce(((e,t)=>e+t.total_price),0),t=te.discount_amount||0,s=e-t,r=s*te.tax_rate/100,n=s+r;se((t=>(0,i.A)((0,i.A)({},t),{},{subtotal:e,tax_amount:r,total_amount:n})))}),[V,te.tax_rate,te.discount_amount]);const xe=(e,t)=>{K((s=>(0,i.A)((0,i.A)({},s),{},{[e]:t}))),me[e]&&pe((t=>{const s=(0,i.A)({},t);return delete s[e],s}))},Ae=()=>{e("/jobs")};return(0,H.jsxs)(n.A,{sx:{maxWidth:1400,mx:"auto",p:3},children:[(0,H.jsx)(a.A,{open:!!X,autoHideDuration:6e3,onClose:()=>Q(null),children:(0,H.jsx)(l.A,{severity:"error",onClose:()=>Q(null),children:X})}),(0,H.jsx)(a.A,{open:!!Y,autoHideDuration:6e3,onClose:()=>G(null),children:(0,H.jsx)(l.A,{severity:"success",onClose:()=>G(null),children:Y})}),(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",mb:3,children:[(0,H.jsx)(o.A,{onClick:Ae,sx:{mr:2},children:(0,H.jsx)(R.A,{})}),(0,H.jsx)(c.A,{variant:"h4",component:"h1",sx:{flexGrow:1},children:"Create New Job"}),(0,H.jsx)(d.A,{variant:"outlined",onClick:Ae,sx:{mr:2},children:"Cancel"}),(0,H.jsx)(d.A,{variant:"contained",startIcon:t?(0,H.jsx)(u.A,{size:20}):(0,H.jsx)(E.A,{}),onClick:async()=>{if((()=>{const e={};return Z.customer_id||(e.customer_id="Customer is required"),Z.title.trim()||(e.title="Job title is required"),Z.service_type||(e.service_type="Service type is required"),Z.scheduled_date||(e.scheduled_date="Scheduled date is required"),Z.property_address.trim()||(e.property_address="Property address is required"),pe(e),0===Object.keys(e).length})())try{s(!0),Q(null);const t=(0,i.A)((0,i.A)({},Z),{},{estimated_cost:te.total_amount,line_items:V,pricing:te});await $.S.create(t),G("Job created successfully!"),setTimeout((()=>{e("/jobs")}),1500)}catch(n){var t,r;console.error("Error creating job:",n),Q((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create job")}finally{s(!1)}},disabled:t,children:t?"Creating...":"Create Job"})]}),(0,H.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,H.jsxs)(h.Ay,{item:!0,xs:12,md:6,children:[(0,H.jsx)(m.A,{sx:{mb:3},children:(0,H.jsxs)(p.A,{children:[(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",mb:3,children:[(0,H.jsx)(n.A,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:(0,H.jsx)(z.A,{sx:{color:"white"}})}),(0,H.jsx)(c.A,{variant:"h6",children:"Customer & Property"})]}),(0,H.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(x.A,{options:ie,getOptionLabel:e=>"".concat(e.full_name," - ").concat(e.full_address),value:ne,onChange:(e,t)=>{return ae(s=t),void(s&&K((e=>(0,i.A)((0,i.A)({},e),{},{customer_id:s.id.toString(),property_address:s.full_address||""}))));var s},renderInput:e=>(0,H.jsx)(A.A,(0,i.A)((0,i.A)({},e),{},{label:"Select Customer",error:!!me.customer_id,helperText:me.customer_id,required:!0}))})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Property Address",value:Z.property_address,onChange:e=>xe("property_address",e.target.value),error:!!me.property_address,helperText:me.property_address,required:!0})})]})]})}),(0,H.jsx)(m.A,{sx:{mb:3},children:(0,H.jsxs)(p.A,{children:[(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",mb:3,children:[(0,H.jsx)(n.A,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:(0,H.jsx)(L.A,{sx:{color:"white"}})}),(0,H.jsx)(c.A,{variant:"h6",children:"Job Details"})]}),(0,H.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Job Title",value:Z.title,onChange:e=>xe("title",e.target.value),error:!!me.title,helperText:me.title,required:!0})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsxs)(g.A,{fullWidth:!0,error:!!me.service_type,children:[(0,H.jsx)(j.A,{children:"Service Type"}),(0,H.jsx)(y.A,{value:Z.service_type,label:"Service Type",onChange:e=>xe("service_type",e.target.value),children:["Electrical Repair","Panel Installation","Wiring Installation","Emergency Service","Lighting Installation","Outlet Installation","Circuit Installation","Safety Inspection"].map((e=>(0,H.jsx)(v.A,{value:e,children:e},e)))})]})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsxs)(g.A,{fullWidth:!0,children:[(0,H.jsx)(j.A,{children:"Priority"}),(0,H.jsxs)(y.A,{value:Z.priority,label:"Priority",onChange:e=>xe("priority",e.target.value),children:[(0,H.jsx)(v.A,{value:"low",children:"Low"}),(0,H.jsx)(v.A,{value:"medium",children:"Medium"}),(0,H.jsx)(v.A,{value:"high",children:"High"}),(0,H.jsx)(v.A,{value:"emergency",children:"Emergency"})]})]})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:Z.description,onChange:e=>xe("description",e.target.value)})})]})]})}),(0,H.jsx)(m.A,{children:(0,H.jsxs)(p.A,{children:[(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",mb:3,children:[(0,H.jsx)(n.A,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:(0,H.jsx)(M.A,{sx:{color:"white"}})}),(0,H.jsx)(c.A,{variant:"h6",children:"Scheduling"})]}),(0,H.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Scheduled Date",type:"date",value:Z.scheduled_date,onChange:e=>xe("scheduled_date",e.target.value),InputLabelProps:{shrink:!0},error:!!me.scheduled_date,helperText:me.scheduled_date,required:!0})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Scheduled Time",type:"time",value:Z.scheduled_time,onChange:e=>xe("scheduled_time",e.target.value),InputLabelProps:{shrink:!0}})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Estimated Duration (hours)",type:"number",value:Z.estimated_duration,onChange:e=>xe("estimated_duration",parseFloat(e.target.value)),InputProps:{inputProps:{min:0,step:.5}}})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,H.jsxs)(g.A,{fullWidth:!0,children:[(0,H.jsx)(j.A,{children:"Assigned Technician"}),(0,H.jsxs)(y.A,{value:Z.assigned_technician_id,label:"Assigned Technician",onChange:e=>xe("assigned_technician_id",e.target.value),children:[(0,H.jsx)(v.A,{value:"",children:(0,H.jsx)("em",{children:"None"})}),[{id:"1",name:"Mike Johnson"},{id:"2",name:"Tom Wilson"},{id:"3",name:"Steve Miller"}].map((e=>(0,H.jsx)(v.A,{value:e.id,children:e.name},e.id)))]})]})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Notes",multiline:!0,rows:2,value:Z.notes,onChange:e=>xe("notes",e.target.value)})})]})]})})]}),(0,H.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,H.jsx)(m.A,{sx:{height:"fit-content"},children:(0,H.jsxs)(p.A,{children:[(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,children:[(0,H.jsxs)(n.A,{display:"flex",alignItems:"center",children:[(0,H.jsx)(n.A,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:(0,H.jsx)(O.A,{sx:{color:"white"}})}),(0,H.jsx)(c.A,{variant:"h6",children:"Line Items & Pricing"})]}),(0,H.jsx)(d.A,{variant:"contained",size:"small",startIcon:(0,H.jsx)(B.A,{}),onClick:()=>{de(null),he({name:"",description:"",quantity:1,unit_price:0,category:"material",unit:"each"}),oe(!0)},children:"Add Item"})]}),(0,H.jsx)(_.A,{component:b.A,variant:"outlined",sx:{mb:3},children:(0,H.jsxs)(f.A,{size:"small",children:[(0,H.jsx)(C.A,{children:(0,H.jsxs)(I.A,{children:[(0,H.jsx)(S.A,{children:"Item"}),(0,H.jsx)(S.A,{align:"center",children:"Qty"}),(0,H.jsx)(S.A,{align:"right",children:"Price"}),(0,H.jsx)(S.A,{align:"right",children:"Total"}),(0,H.jsx)(S.A,{align:"center",children:"Actions"})]})}),(0,H.jsxs)(P.A,{children:[V.map((e=>(0,H.jsxs)(I.A,{children:[(0,H.jsxs)(S.A,{children:[(0,H.jsx)(c.A,{variant:"body2",fontWeight:"medium",children:e.name}),e.description&&(0,H.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e.description}),(0,H.jsx)(n.A,{children:(0,H.jsx)(w.A,{label:e.category,size:"small",variant:"outlined",sx:{mt:.5}})})]}),(0,H.jsxs)(S.A,{align:"center",children:[e.quantity," ",e.unit]}),(0,H.jsxs)(S.A,{align:"right",children:["$",e.unit_price.toFixed(2)]}),(0,H.jsxs)(S.A,{align:"right",children:["$",e.total_price.toFixed(2)]}),(0,H.jsxs)(S.A,{align:"center",children:[(0,H.jsx)(o.A,{size:"small",onClick:()=>(e=>{de(e),he(e),oe(!0)})(e),children:(0,H.jsx)(D.A,{fontSize:"small"})}),(0,H.jsx)(o.A,{size:"small",onClick:()=>{return t=e.id,void ee((e=>e.filter((e=>e.id!==t))));var t},color:"error",children:(0,H.jsx)(U.A,{fontSize:"small"})})]})]},e.id))),0===V.length&&(0,H.jsx)(I.A,{children:(0,H.jsx)(S.A,{colSpan:5,align:"center",children:(0,H.jsx)(c.A,{color:"text.secondary",children:"No items added yet"})})})]})]})}),(0,H.jsxs)(n.A,{children:[(0,H.jsx)(q.A,{sx:{mb:2}}),(0,H.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(c.A,{children:"Subtotal:"})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsxs)(c.A,{align:"right",children:["$",te.subtotal.toFixed(2)]})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(A.A,{label:"Discount",type:"number",size:"small",value:te.discount_amount||"",onChange:e=>se((t=>(0,i.A)((0,i.A)({},t),{},{discount_amount:parseFloat(e.target.value)||0}))),InputProps:{inputProps:{min:0,step:.01}}})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsxs)(c.A,{align:"right",children:["-$",(te.discount_amount||0).toFixed(2)]})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(A.A,{label:"Tax Rate (%)",type:"number",size:"small",value:te.tax_rate,onChange:e=>se((t=>(0,i.A)((0,i.A)({},t),{},{tax_rate:parseFloat(e.target.value)||0}))),InputProps:{inputProps:{min:0,max:100,step:.01}}})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsxs)(c.A,{align:"right",children:["$",te.tax_amount.toFixed(2)]})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(q.A,{})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(c.A,{variant:"h6",children:"Total:"})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsxs)(c.A,{variant:"h6",align:"right",children:["$",te.total_amount.toFixed(2)]})})]})]})]})})})]}),(0,H.jsxs)(k.A,{open:le,onClose:()=>oe(!1),maxWidth:"sm",fullWidth:!0,children:[(0,H.jsx)(T.A,{children:ce?"Edit Line Item":"Add Line Item"}),(0,H.jsx)(W.A,{children:(0,H.jsxs)(h.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Item Name",value:ue.name||"",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{name:e.target.value}))),required:!0})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Description",value:ue.description||"",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{description:e.target.value}))),multiline:!0,rows:2})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsxs)(g.A,{fullWidth:!0,children:[(0,H.jsx)(j.A,{children:"Category"}),(0,H.jsxs)(y.A,{value:ue.category||"material",label:"Category",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{category:e.target.value}))),children:[(0,H.jsx)(v.A,{value:"material",children:"Material"}),(0,H.jsx)(v.A,{value:"labor",children:"Labor"}),(0,H.jsx)(v.A,{value:"service",children:"Service"})]})]})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Unit",value:ue.unit||"",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{unit:e.target.value}))),placeholder:"each, hour, ft, etc."})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Quantity",type:"number",value:ue.quantity||"",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{quantity:parseFloat(e.target.value)||0}))),InputProps:{inputProps:{min:0,step:.01}},required:!0})}),(0,H.jsx)(h.Ay,{item:!0,xs:6,children:(0,H.jsx)(A.A,{fullWidth:!0,label:"Unit Price",type:"number",value:ue.unit_price||"",onChange:e=>he((t=>(0,i.A)((0,i.A)({},t),{},{unit_price:parseFloat(e.target.value)||0}))),InputProps:{inputProps:{min:0,step:.01}},required:!0})}),(0,H.jsx)(h.Ay,{item:!0,xs:12,children:(0,H.jsxs)(c.A,{variant:"h6",align:"right",children:["Total: $",((ue.quantity||0)*(ue.unit_price||0)).toFixed(2)]})})]})}),(0,H.jsxs)(F.A,{children:[(0,H.jsx)(d.A,{onClick:()=>oe(!1),children:"Cancel"}),(0,H.jsxs)(d.A,{variant:"contained",onClick:()=>{if(!ue.name||!ue.quantity||!ue.unit_price)return;const e=(ue.quantity||0)*(ue.unit_price||0),t={id:(null===ce||void 0===ce?void 0:ce.id)||(0,N.A)(),name:ue.name||"",description:ue.description||"",quantity:ue.quantity||1,unit_price:ue.unit_price||0,total_price:e,category:ue.category||"material",unit:ue.unit||"each"};ee(ce?e=>e.map((e=>e.id===ce.id?t:e)):e=>[...e,t]),oe(!1),de(null),he({})},children:[ce?"Update":"Add"," Item"]})]})]})]})}}}]);
//# sourceMappingURL=382.8e7a20e5.chunk.js.map